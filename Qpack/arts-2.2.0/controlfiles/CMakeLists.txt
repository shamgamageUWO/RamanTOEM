
add_custom_command(
  OUTPUT clean-cfiles-cmd
  COMMAND rm -f "Test*.xml" "Test*.rep" "Test*.bin"
  )
add_custom_target (clean-cfiles DEPENDS clean-cfiles-cmd)

set (ARTS_CONTROLFILE_DIR share/arts/controlfiles)

install (DIRECTORY artscomponents
                   testdata
                   general
                   instruments
         DESTINATION ${ARTS_CONTROLFILE_DIR}
         PATTERN ".svn" EXCLUDE)


#######################
### ARTS Components ###
arts_test_run_ctlfile(fast artscomponents/helpers/TestForloop.arts)
arts_test_run_ctlfile(fast artscomponents/helpers/TestAgendaCopy.arts)
arts_test_run_ctlfile(fast artscomponents/helpers/TestHSE.arts)

arts_test_run_ctlfile(fast artscomponents/absorption/TestAbs.arts)
arts_test_run_ctlfile(fast
                      artscomponents/absorption/TestAbsDoppler.arts)
arts_test_run_ctlfile(fast 
                      artscomponents/absorption/TestCompareArtscat3And4.arts)
arts_test_run_ctlfile(slow artscomponents/absorption/TestIsoRatios.arts)

arts_test_run_ctlfile(fast artscomponents/surface/TestSurface.arts)

arts_test_run_ctlfile(fast artscomponents/ppath/TestPpath1D.arts)
arts_test_run_ctlfile(fast artscomponents/ppath/TestPpath2D.arts)
arts_test_run_ctlfile(fast artscomponents/ppath/TestPpath3D.arts)

arts_test_run_ctlfile(fast artscomponents/pencilbeam/TestPencilBeam.arts)

arts_test_run_ctlfile(fast artscomponents/clearsky/TestClearSky.arts)
arts_test_run_ctlfile(slow artscomponents/clearsky/TestClearSky2.arts)

arts_test_run_ctlfile(fast artscomponents/stokesrot/TestStokesRotation.arts)

arts_test_run_ctlfile(fast artscomponents/groundbased/TestFgrid.arts)
arts_test_run_ctlfile(fast artscomponents/groundbased/TestGbased.arts)
arts_test_run_ctlfile(fast artscomponents/groundbased/TestWinds.arts)

arts_test_run_ctlfile(fast artscomponents/transmission/TestTransmission.arts)

arts_test_run_ctlfile(fast artscomponents/faraday/TestFaradayRotation.arts)

arts_test_run_ctlfile(fast artscomponents/radiolink/TestRadioLink.arts)
arts_test_run_ctlfile(fast artscomponents/radiolink/TestRadioLink2.arts)
arts_test_run_ctlfile(slow artscomponents/radiolink/TestRadioOccultation.arts)

arts_test_run_ctlfile(fast artscomponents/doit/TestDOIT.arts)
arts_test_run_ctlfile(slow artscomponents/doitbatch/TestDOITBatch.arts)

arts_test_run_ctlfile(fast artscomponents/montecarlo/TestMonteCarloDataPrepare.arts)
arts_test_run_ctlfile(slow artscomponents/montecarlo/TestMonteCarloGeneral.arts)
arts_test_ctlfile_depends(slow.artscomponents.montecarlo.TestMonteCarloGeneral
                          fast.artscomponents.montecarlo.TestMonteCarloDataPrepare)
arts_test_run_ctlfile(slow artscomponents/montecarlo/TestMonteCarloGeneralGaussian.arts)
arts_test_ctlfile_depends(slow.artscomponents.montecarlo.TestMonteCarloGeneralGaussian
                          fast.artscomponents.montecarlo.TestMonteCarloDataPrepare)
arts_test_run_ctlfile(fast artscomponents/montecarlo/TestRteCalcMC.arts)
arts_test_ctlfile_depends(fast.artscomponents.montecarlo.TestRteCalcMC
                          fast.artscomponents.montecarlo.TestMonteCarloDataPrepare)

arts_test_run_ctlfile(slow artscomponents/wfuns/TestWfuns.arts)

arts_test_run_ctlfile(fast artscomponents/ycalcappend/TestYCalcAppend.arts)

if (ENABLE_DISORT)
  arts_test_run_ctlfile(nocheck artscomponents/disort/TestDISORT.arts)
endif ()

if (ENABLE_TMATRIX)
  arts_test_run_ctlfile(fast artscomponents/tmatrix/TestTMatrix.arts)
  arts_test_run_ctlfile(fast artscomponents/tmatrix/TestTMatrixSSD.arts)
endif ()


###################
### Instruments ###
arts_test_run_ctlfile(fast instruments/odinsmr/TestOdinSMR.arts)
arts_test_run_ctlfile(slow instruments/odinsmr/TestOdinSMR_1D.arts)

arts_test_run_ctlfile(fast instruments/amsu/TestAMSUB_fast.arts)
arts_test_run_ctlfile(slow instruments/amsu/TestAMSUB.arts)

arts_test_run_ctlfile(nocheck instruments/amsu/TestAMSUA.arts)

arts_test_run_ctlfile(fast instruments/mhs/TestMHS_fast.arts)
arts_test_run_ctlfile(slow instruments/mhs/TestMHS.arts)

arts_test_run_ctlfile(slow instruments/hirs/TestHIRS.arts)

#arts_test_run_ctlfile(slow instruments/avhrr/TestAVHRR.arts)

if (ARTS_XML_DATA_DIR)

  ###########################################
  ### cases using data from arts-xml-data ###
  arts_test_run_ctlfile(fast artscomponents/helpers/TestRegridding.arts)
  arts_test_run_ctlfile(fast artscomponents/helpers/TestGridsExtract.arts)

  arts_test_run_ctlfile(fast artscomponents/ppath/TestRefractPlanets.arts)

  arts_test_run_ctlfile(fast artscomponents/zeeman/TestZeeman.arts)
  arts_test_run_ctlfile(fast artscomponents/linemixing/TestLineMixingAndZeeman.arts)
  arts_test_run_ctlfile(fast artscomponents/linemixing/TestLineMixing.arts)
  arts_test_run_ctlfile(slow artscomponents/linemixing/TestLineMixingAndZeeman_50_to_70_GHz.arts)
  
  ################
  ### XML Data ###
  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestAtmScen_Mars.arts)
  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestAtmScen_Venus.arts)
  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestAtmScen_Jupiter.arts)

  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestAtmScenSup_Earth.arts)
  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestAtmScenSup_Mars.arts)
  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestAtmScenSup_Venus.arts)
  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestAtmScenSup_Jupiter.arts)

  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestClouds_Mars.arts)
  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestClouds_Venus.arts)

  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestSurf_Earth.arts)
  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestSurf_Mars.arts)
  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestSurf_Venus.arts)

  arts_test_run_ctlfile(xmldata artscomponents/arts-xml-data/TestPlanetIsoRatios.arts)

  arts_test_run_ctlfile(xmldata artscomponents/cia/TestCIA.arts)

  arts_test_run_ctlfile(xmldata artscomponents/cia/TestRTwithCIA.arts)

endif (ARTS_XML_DATA_DIR)



